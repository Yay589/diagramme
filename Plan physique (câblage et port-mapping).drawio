<mxfile host="app.diagrams.net" agent="Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/140.0.0.0 Safari/537.36" version="28.2.8">
  <diagram name="Page-1" id="qw3HEzxv-JdLIg8q5i_I">
    <mxGraphModel dx="2084" dy="2291" grid="1" gridSize="10" guides="1" tooltips="1" connect="1" arrows="1" fold="1" page="1" pageScale="1" pageWidth="827" pageHeight="1169" math="0" shadow="0">
      <root>
        <mxCell id="0" />
        <mxCell id="1" parent="0" />
        <mxCell id="X6GxW74mEFsJ6_o9GuTO-40" value="" style="rounded=0;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="1330" y="-1040" width="700" height="260" as="geometry" />
        </mxCell>
        <mxCell id="X6GxW74mEFsJ6_o9GuTO-2" value="" style="rounded=0;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="610" y="-230" width="820" height="450" as="geometry" />
        </mxCell>
        <mxCell id="gda7CDKdBggoays2mfxM-1" value="pve1" style="image;aspect=fixed;perimeter=ellipsePerimeter;html=1;align=center;shadow=0;dashed=0;spacingTop=3;image=img/lib/active_directory/generic_server.svg;" parent="1" vertex="1">
          <mxGeometry x="731" y="80" width="28.000000000000004" height="50" as="geometry" />
        </mxCell>
        <mxCell id="gda7CDKdBggoays2mfxM-2" value="pve2" style="image;aspect=fixed;perimeter=ellipsePerimeter;html=1;align=center;shadow=0;dashed=0;spacingTop=3;image=img/lib/active_directory/generic_server.svg;" parent="1" vertex="1">
          <mxGeometry x="1011" y="80" width="28.000000000000004" height="50" as="geometry" />
        </mxCell>
        <mxCell id="gda7CDKdBggoays2mfxM-3" value="pve3" style="image;aspect=fixed;perimeter=ellipsePerimeter;html=1;align=center;shadow=0;dashed=0;spacingTop=3;image=img/lib/active_directory/generic_server.svg;" parent="1" vertex="1">
          <mxGeometry x="1281" y="80" width="28.000000000000004" height="50" as="geometry" />
        </mxCell>
        <mxCell id="X6GxW74mEFsJ6_o9GuTO-9" value="&lt;div&gt;&lt;span style=&quot;background-color: transparent; color: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));&quot;&gt;OPNsense 1&lt;/span&gt;&lt;/div&gt;&lt;span style=&quot;background-color: transparent; color: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));&quot;&gt;WAN : 10.10.0.2 (VLAN 100)&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;background-color: transparent; color: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));&quot;&gt;LAN : 10.10.16.1 (VLAN 200, gateway Users)&lt;/span&gt;&lt;span style=&quot;background-color: transparent; color: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));&quot;&gt;&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;background-color: transparent; color: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));&quot;&gt;MGMT : 10.10.32.2 (VLAN 300)&lt;/span&gt;" style="text;html=1;whiteSpace=wrap;strokeColor=none;fillColor=none;align=left;verticalAlign=middle;rounded=0;" vertex="1" parent="1">
          <mxGeometry x="1140" y="-190" width="240" height="80" as="geometry" />
        </mxCell>
        <mxCell id="X6GxW74mEFsJ6_o9GuTO-10" value="&lt;div style=&quot;&quot;&gt;&lt;span style=&quot;background-color: transparent; color: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));&quot;&gt;OPNsense 1&lt;/span&gt;&lt;/div&gt;&lt;span style=&quot;color: light-dark(rgb(0, 0, 0), rgb(255, 255, 255)); background-color: transparent;&quot;&gt;WAN : 10.10.0.3 (VLAN 100)&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color: light-dark(rgb(0, 0, 0), rgb(255, 255, 255)); background-color: transparent;&quot;&gt;LAN : 10.10.16.2 (VLAN 200, secondaire)&lt;/span&gt;&lt;span style=&quot;color: light-dark(rgb(0, 0, 0), rgb(255, 255, 255)); background-color: transparent;&quot;&gt;&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color: light-dark(rgb(0, 0, 0), rgb(255, 255, 255)); background-color: transparent;&quot;&gt;MGMT : 10.10.32.3 (VLAN 300)&lt;/span&gt;" style="text;html=1;whiteSpace=wrap;strokeColor=none;fillColor=none;align=left;verticalAlign=middle;rounded=0;" vertex="1" parent="1">
          <mxGeometry x="1140" y="-90" width="240" height="75" as="geometry" />
        </mxCell>
        <mxCell id="X6GxW74mEFsJ6_o9GuTO-24" value="&lt;br&gt;&lt;table&gt;&lt;thead&gt;&lt;tr&gt;&lt;th&gt;Équipement&lt;/th&gt;&lt;th&gt;Interface&lt;/th&gt;&lt;th&gt;VLAN&lt;/th&gt;&lt;th&gt;IP&lt;/th&gt;&lt;th&gt;Rôle&lt;/th&gt;&lt;/tr&gt;&lt;/thead&gt;&lt;tbody&gt;&lt;tr&gt;&lt;td&gt;&lt;strong&gt;pve1&lt;/strong&gt;&lt;/td&gt;&lt;td&gt;mgmt (eno0)&lt;/td&gt;&lt;td&gt;300&lt;/td&gt;&lt;td&gt;10.10.32.11&lt;/td&gt;&lt;td&gt;Proxmox GUI / SSH&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td&gt;&lt;/td&gt;&lt;td&gt;nic1 (trunk)&lt;/td&gt;&lt;td&gt;100,200&lt;/td&gt;&lt;td&gt;—&lt;/td&gt;&lt;td&gt;Trunk VM/OPNsense/Users&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td&gt;&lt;/td&gt;&lt;td&gt;nic2 (trunk)&lt;/td&gt;&lt;td&gt;400,401&lt;/td&gt;&lt;td&gt;—&lt;/td&gt;&lt;td&gt;Réplication VM / stockage&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td&gt;&lt;/td&gt;&lt;td&gt;iLO&lt;/td&gt;&lt;td&gt;310&lt;/td&gt;&lt;td&gt;10.10.33.11&lt;/td&gt;&lt;td&gt;OOB console&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td&gt;&lt;strong&gt;pve2&lt;/strong&gt;&lt;/td&gt;&lt;td&gt;mgmt (eno0)&lt;/td&gt;&lt;td&gt;300&lt;/td&gt;&lt;td&gt;10.10.32.12&lt;/td&gt;&lt;td&gt;Proxmox&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td&gt;&lt;/td&gt;&lt;td&gt;iLO&lt;/td&gt;&lt;td&gt;310&lt;/td&gt;&lt;td&gt;10.10.33.12&lt;/td&gt;&lt;td&gt;OOB&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td&gt;&lt;strong&gt;pve3&lt;/strong&gt;&lt;/td&gt;&lt;td&gt;mgmt (eno0)&lt;/td&gt;&lt;td&gt;300&lt;/td&gt;&lt;td&gt;10.10.32.13&lt;/td&gt;&lt;td&gt;Proxmox&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td&gt;&lt;/td&gt;&lt;td&gt;iLO&lt;/td&gt;&lt;td&gt;310&lt;/td&gt;&lt;td&gt;10.10.33.13&lt;/td&gt;&lt;td&gt;OOB&amp;nbsp; &amp;nbsp;&amp;nbsp;&lt;br&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/tbody&gt;&lt;/table&gt;" style="text;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="650" y="-210" width="430" height="190" as="geometry" />
        </mxCell>
        <mxCell id="X6GxW74mEFsJ6_o9GuTO-26" value="" style="rounded=0;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="1970" y="-230" width="1260" height="470" as="geometry" />
        </mxCell>
        <mxCell id="X6GxW74mEFsJ6_o9GuTO-27" value="pve4" style="image;aspect=fixed;perimeter=ellipsePerimeter;html=1;align=center;shadow=0;dashed=0;spacingTop=3;image=img/lib/active_directory/generic_server.svg;" vertex="1" parent="1">
          <mxGeometry x="2176.5" y="80" width="28.000000000000004" height="50" as="geometry" />
        </mxCell>
        <mxCell id="X6GxW74mEFsJ6_o9GuTO-28" value="pve5" style="image;aspect=fixed;perimeter=ellipsePerimeter;html=1;align=center;shadow=0;dashed=0;spacingTop=3;image=img/lib/active_directory/generic_server.svg;" vertex="1" parent="1">
          <mxGeometry x="2456.5" y="80" width="28.000000000000004" height="50" as="geometry" />
        </mxCell>
        <mxCell id="X6GxW74mEFsJ6_o9GuTO-29" value="pve6" style="image;aspect=fixed;perimeter=ellipsePerimeter;html=1;align=center;shadow=0;dashed=0;spacingTop=3;image=img/lib/active_directory/generic_server.svg;" vertex="1" parent="1">
          <mxGeometry x="2726.5" y="80" width="28.000000000000004" height="50" as="geometry" />
        </mxCell>
        <mxCell id="X6GxW74mEFsJ6_o9GuTO-34" value="pve7" style="image;aspect=fixed;perimeter=ellipsePerimeter;html=1;align=center;shadow=0;dashed=0;spacingTop=3;image=img/lib/active_directory/generic_server.svg;" vertex="1" parent="1">
          <mxGeometry x="2995.5" y="80" width="28.000000000000004" height="50" as="geometry" />
        </mxCell>
        <mxCell id="X6GxW74mEFsJ6_o9GuTO-37" value="&lt;br&gt;&lt;table&gt;&lt;thead&gt;&lt;tr&gt;&lt;th&gt;Équipement&lt;/th&gt;&lt;th&gt;Interface&lt;/th&gt;&lt;th&gt;VLAN&lt;/th&gt;&lt;th&gt;IP&lt;/th&gt;&lt;th&gt;Rôle&lt;/th&gt;&lt;/tr&gt;&lt;/thead&gt;&lt;tbody&gt;&lt;tr&gt;&lt;td&gt;&lt;strong&gt;pve4&lt;/strong&gt;&lt;/td&gt;&lt;td&gt;mgmt (eno0)&lt;/td&gt;&lt;td&gt;300&lt;/td&gt;&lt;td&gt;10.10.32.21&lt;/td&gt;&lt;td&gt;Proxmox GUI / SSH&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td&gt;&lt;/td&gt;&lt;td&gt;nic1 (trunk)&lt;/td&gt;&lt;td&gt;400,401,500&lt;/td&gt;&lt;td&gt;—&lt;/td&gt;&lt;td&gt;Ceph + OpenStack internal&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td&gt;&lt;/td&gt;&lt;td&gt;nic2 (trunk)&lt;/td&gt;&lt;td&gt;100,200&lt;/td&gt;&lt;td&gt;—&lt;/td&gt;&lt;td&gt;Provider network / Users&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td&gt;&lt;/td&gt;&lt;td&gt;iLO&lt;/td&gt;&lt;td&gt;310&lt;/td&gt;&lt;td&gt;10.10.33.21&lt;/td&gt;&lt;td&gt;OOB&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td&gt;&lt;strong&gt;pve5&lt;/strong&gt;&lt;/td&gt;&lt;td&gt;mgmt&lt;/td&gt;&lt;td&gt;300&lt;/td&gt;&lt;td&gt;10.10.32.22&lt;/td&gt;&lt;td&gt;Proxmox&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td&gt;&lt;/td&gt;&lt;td&gt;iLO&lt;/td&gt;&lt;td&gt;310&lt;/td&gt;&lt;td&gt;10.10.33.22&lt;/td&gt;&lt;td&gt;OOB&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td&gt;&lt;strong&gt;pve6&lt;/strong&gt;&lt;/td&gt;&lt;td&gt;mgmt&lt;/td&gt;&lt;td&gt;300&lt;/td&gt;&lt;td&gt;10.10.32.23&lt;/td&gt;&lt;td&gt;Proxmox&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td&gt;&lt;/td&gt;&lt;td&gt;iLO&lt;/td&gt;&lt;td&gt;310&lt;/td&gt;&lt;td&gt;10.10.33.23&lt;/td&gt;&lt;td&gt;OOB&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td&gt;&lt;strong&gt;pve7&lt;/strong&gt;&lt;/td&gt;&lt;td&gt;mgmt&lt;/td&gt;&lt;td&gt;300&lt;/td&gt;&lt;td&gt;10.10.32.24&lt;/td&gt;&lt;td&gt;Proxmox&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td&gt;&lt;/td&gt;&lt;td&gt;iLO&lt;/td&gt;&lt;td&gt;310&lt;/td&gt;&lt;td&gt;10.10.33.24&lt;/td&gt;&lt;td&gt;OOB&lt;/td&gt;&lt;/tr&gt;&lt;/tbody&gt;&lt;/table&gt;" style="text;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="2000" y="-210" width="450" height="230" as="geometry" />
        </mxCell>
        <mxCell id="X6GxW74mEFsJ6_o9GuTO-38" value="&lt;br&gt;&lt;table&gt;&lt;thead&gt;&lt;tr&gt;&lt;th&gt;Composant&lt;/th&gt;&lt;th&gt;IP&lt;/th&gt;&lt;th&gt;Description&lt;/th&gt;&lt;/tr&gt;&lt;/thead&gt;&lt;tbody&gt;&lt;tr&gt;&lt;td&gt;Controller-1&lt;/td&gt;&lt;td&gt;10.10.64.10&lt;/td&gt;&lt;td&gt;Keystone, Neutron, Glance&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td&gt;Controller-2&lt;/td&gt;&lt;td&gt;10.10.64.11&lt;/td&gt;&lt;td&gt;HA controller&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td&gt;Controller-3&lt;/td&gt;&lt;td&gt;10.10.64.12&lt;/td&gt;&lt;td&gt;HA controller&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td&gt;Compute nodes (pve4-7)&lt;/td&gt;&lt;td&gt;10.10.64.21-24&lt;/td&gt;&lt;td&gt;Agent compute&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td&gt;API VIP (HAProxy)&lt;/td&gt;&lt;td&gt;10.10.64.5&lt;/td&gt;&lt;td&gt;Front API OpenStack&lt;/td&gt;&lt;/tr&gt;&lt;/tbody&gt;&lt;/table&gt;" style="text;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="2456.5" y="-190" width="390" height="140" as="geometry" />
        </mxCell>
        <mxCell id="X6GxW74mEFsJ6_o9GuTO-39" value="&lt;br&gt;&lt;br&gt;&lt;table&gt;&lt;thead&gt;&lt;tr&gt;&lt;th&gt;VRF&lt;/th&gt;&lt;th&gt;VLAN&lt;/th&gt;&lt;th&gt;Réseau&lt;/th&gt;&lt;th&gt;Usage&lt;/th&gt;&lt;th&gt;Gateway (OPNsense ou FW)&lt;/th&gt;&lt;/tr&gt;&lt;/thead&gt;&lt;tbody&gt;&lt;tr&gt;&lt;td&gt;&lt;strong&gt;VRF-WAN&lt;/strong&gt;&lt;/td&gt;&lt;td&gt;100&lt;/td&gt;&lt;td&gt;10.10.0.0/29&lt;/td&gt;&lt;td&gt;Transit FW / Internet interne&lt;/td&gt;&lt;td&gt;10.10.0.1&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td&gt;&lt;strong&gt;VRF-USERS&lt;/strong&gt;&lt;/td&gt;&lt;td&gt;200&lt;/td&gt;&lt;td&gt;10.10.16.0/24&lt;/td&gt;&lt;td&gt;Réseau utilisateur / VM front&lt;/td&gt;&lt;td&gt;10.10.16.1&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td&gt;&lt;strong&gt;VRF-MGMT&lt;/strong&gt;&lt;/td&gt;&lt;td&gt;300&lt;/td&gt;&lt;td&gt;10.10.32.0/24&lt;/td&gt;&lt;td&gt;Management hyperviseurs / switchs&lt;/td&gt;&lt;td&gt;10.10.32.1&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td&gt;&lt;strong&gt;VRF-MGMT&lt;/strong&gt;&lt;/td&gt;&lt;td&gt;310&lt;/td&gt;&lt;td&gt;10.10.33.0/25&lt;/td&gt;&lt;td&gt;iLO / BMC&lt;/td&gt;&lt;td&gt;10.10.33.1&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td&gt;&lt;strong&gt;VRF-STORAGE&lt;/strong&gt;&lt;/td&gt;&lt;td&gt;400&lt;/td&gt;&lt;td&gt;10.10.48.0/24&lt;/td&gt;&lt;td&gt;Ceph cluster&lt;/td&gt;&lt;td&gt;(pas routé)&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td&gt;&lt;strong&gt;VRF-STORAGE&lt;/strong&gt;&lt;/td&gt;&lt;td&gt;401&lt;/td&gt;&lt;td&gt;10.10.49.0/24&lt;/td&gt;&lt;td&gt;Ceph public&lt;/td&gt;&lt;td&gt;(pas routé)&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td&gt;&lt;strong&gt;VRF-CLOUD&lt;/strong&gt;&lt;/td&gt;&lt;td&gt;500&lt;/td&gt;&lt;td&gt;10.10.64.0/24&lt;/td&gt;&lt;td&gt;OpenStack internal/control&lt;/td&gt;&lt;td&gt;10.10.64.1&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td&gt;&lt;strong&gt;VRF-CLOUD&lt;/strong&gt;&lt;/td&gt;&lt;td&gt;501&lt;/td&gt;&lt;td&gt;10.10.65.0/24&lt;/td&gt;&lt;td&gt;Services infra internes&lt;/td&gt;&lt;td&gt;10.10.65.1&lt;/td&gt;&lt;/tr&gt;&lt;/tbody&gt;&lt;/table&gt;" style="text;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="1400" y="-1015" width="560" height="210" as="geometry" />
        </mxCell>
      </root>
    </mxGraphModel>
  </diagram>
</mxfile>
